"use strict";(self.webpackChunksinnammanyo_cn=self.webpackChunksinnammanyo_cn||[]).push([[8216],{45391:(t,e,l)=>{l.r(e),l.d(e,{assets:()=>p,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>i});var a=l(87462),n=(l(67294),l(3905));l(83989);const o={id:"yolov8-train",title:"yolov8 \u8bad\u7ec3\u81ea\u5b9a\u6570\u636e\u96c6",sidebar_label:"yolov8 train"},r=void 0,s={unversionedId:"cv/ml-dl/yolo/yolov8-train",id:"cv/ml-dl/yolo/yolov8-train",title:"yolov8 \u8bad\u7ec3\u81ea\u5b9a\u6570\u636e\u96c6",description:"datasets",source:"@site/docs/stack/cv/ml-dl/yolo/yolov8-train-custom.md",sourceDirName:"cv/ml-dl/yolo",slug:"/cv/ml-dl/yolo/yolov8-train",permalink:"/stack/cv/ml-dl/yolo/yolov8-train",draft:!1,editUrl:"https://github.com/rcxxx/sinnammanyo.cn/tree/master/docs/stack/cv/ml-dl/yolo/yolov8-train-custom.md",tags:[],version:"current",frontMatter:{id:"yolov8-train",title:"yolov8 \u8bad\u7ec3\u81ea\u5b9a\u6570\u636e\u96c6",sidebar_label:"yolov8 train"},sidebar:"\ud83d\udc40CV & Robot",previous:{title:"yolov5 v6.0 train",permalink:"/stack/cv/ml-dl/yolo/yolov5-6.0-train"},next:{title:"RealSense",permalink:"/stack/category/realsense"}},p={},i=[{value:"datasets",id:"datasets",level:2},{value:"yolov8 train",id:"yolov8-train",level:2},{value:"val and predict",id:"val-and-predict",level:2},{value:"convert to onnx",id:"convert-to-onnx",level:2},{value:"OpenCV DNN",id:"opencv-dnn",level:2},{value:"\u53c2\u8003",id:"\u53c2\u8003",level:2}],c={toc:i};function u(t){let{components:e,...l}=t;return(0,n.kt)("wrapper",(0,a.Z)({},c,l,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"datasets"},"datasets"),(0,n.kt)("p",null,"\u8bad\u7ec3\u4e4b\u524d\u9700\u8981\u51c6\u5907\u6570\u636e\u96c6\uff0c",(0,n.kt)("inlineCode",{parentName:"p"},"yolov8")," \u63a8\u8350\u4e86\u6570\u636e\u96c6\u6807\u6ce8\u5de5\u5177 ",(0,n.kt)("a",{parentName:"p",href:"https://docs.roboflow.com/"},(0,n.kt)("inlineCode",{parentName:"a"},"Roboflow")),"\uff0cRoboflow \u662f\u4e00\u4e2a\u5f88\u5f3a\u5927\u7684\u5728\u7ebf\u5de5\u5177\uff0c\u76ee\u524d\u6240\u63d0\u4f9b\u7684\u683c\u5f0f\u4e2d\u5305\u542b yolov8 \u7684\u683c\u5f0f\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u6b64\u5de5\u5177\u5236\u4f5c\u6570\u636e\u96c6"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u6ce8\u518c\u767b\u5f55\u5e73\u53f0\uff0c\u6839\u636e\u6559\u7a0b\u521b\u5efa\u4e00\u4e2a\u5de5\u4f5c\u533a")),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/screenshot/yolov8/roboflow-workspace.png",alt:null})),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u5728\u5de5\u4f5c\u533a\u4e2d\u521b\u5efa\u4e00\u4e2a\u9879\u76ee")),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/screenshot/yolov8/roboflow-create-project.png",alt:null})),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Upload")," \u4e0a\u4f20\u4f60\u51c6\u5907\u597d\u7684\u4f5c\u4e3a\u6570\u636e\u96c6\u7684\u56fe\u7247\uff0c\u53ef\u4ee5\u76f4\u63a5\u8fdb\u884c\u6807\u6ce8\uff0c\u4f46\u662f\u4e3a\u4e86\u9632\u6b62\u8fde\u63a5\u5d29\u6e83\u7684\u60c5\u51b5\uff0c\u5efa\u8bae\u5148\u5c06\u4fdd\u5b58\u540e\uff0c\u518d\u6267\u884c\u6807\u6ce8")),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/screenshot/yolov8/roboflow-upload.png",alt:null})),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Annotate")," \u5bf9\u4f60\u4e0a\u4f20\u7684\u56fe\u7247\u8fdb\u884c\u6807\u6ce8\uff0c\u6709\u4e0d\u9700\u8981\u6807\u6ce8\u4f46\u60f3\u4f5c\u4e3a\u80cc\u666f\u8fdb\u884c\u8bad\u7ec3\u7684\uff0c\u8bb0\u5f97\u70b9\u51fb\u8df3\u8fc7\uff0c\u6240\u6709\u56fe\u7247\u90fd\u6807\u6ce8\u5b8c\u6210\u540e\uff0c\u751f\u6210\u6570\u636e\u96c6")),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/screenshot/yolov8/roboflow-annotation.png",alt:null})),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Generate")," \u751f\u6210\u6570\u636e\u96c6")),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"\u6839\u636e\u63a8\u8350\u81ea\u52a8\u5212\u5206\u8bad\u7ec3\u96c6\uff0c\u6d4b\u8bd5\u96c6\u548c\u9a8c\u8bc1\u96c6\uff0c\u5728 ",(0,n.kt)("inlineCode",{parentName:"li"},"Train/Test Split")," \u4e2d\u8fdb\u884c\u6bd4\u4f8b\u7684\u8c03\u6574"),(0,n.kt)("li",{parentName:"ol"},"\u5bf9\u56fe\u50cf\u8fdb\u884c\u9884\u5904\u7406\uff0c\u6709\u7684\u7f51\u7edc\u8f93\u5165\u8981\u6c42\u957f\u5bbd\u76f8\u7b49\uff0c\u8fd9\u4e00\u6b65\u53ef\u4ee5\u5bf9\u56fe\u50cf\u6267\u884c ",(0,n.kt)("inlineCode",{parentName:"li"},"resize")," \u5e76\u4e14\u53ef\u4ee5\u9009\u62e9 ",(0,n.kt)("inlineCode",{parentName:"li"},"black/white edges")," \u586b\u5145\uff0c\u4fdd\u8bc1\u56fe\u50cf\u4e0d\u5931\u771f"),(0,n.kt)("li",{parentName:"ol"},"\u56fe\u50cf\u589e\u5f3a\uff0c\u63d0\u9ad8\u8bad\u7ec3\u51fa\u6765\u7684\u6a21\u578b\u8d28\u91cf")),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/screenshot/yolov8/roboflow-generate.png",alt:null})),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Generate"),"-",(0,n.kt)("inlineCode",{parentName:"li"},"Export")," \u5bfc\u51fa\u6570\u636e\u96c6\uff0c\u53ef\u4ee5\u76f4\u63a5\u5bfc\u51fa\u5305\u62ec ",(0,n.kt)("inlineCode",{parentName:"li"},"COCO\uff0cVOC\uff0cYOLOv8")," \u7b49\u683c\u5f0f\u7684\u6570\u636e\u96c6")),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/screenshot/yolov8/roboflow-export.png",alt:null})),(0,n.kt)("p",null,"\u5bfc\u51fa\u6570\u636e\u96c6\u7684\u7ed3\u679c\u5982\u4e0b\uff0c\u5176\u4e2d ",(0,n.kt)("inlineCode",{parentName:"p"},"data.yaml")," \u4e3a yolov8 \u8bad\u7ec3\u65f6\u6240\u9700\u7684\u914d\u7f6e\u6587\u4ef6"),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/screenshot/yolov8/roboflow-export-result.png",alt:null})),(0,n.kt)("p",null,"\u6570\u636e\u96c6\u51c6\u5907\u5b8c\u6210"),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"yolov8-train"},"yolov8 train"),(0,n.kt)("p",null,"\u6570\u636e\u96c6\u51c6\u5907\u5b8c\u6210\u4e4b\u540e\uff0c\u5c06\u6570\u636e\u96c6\u590d\u5236\u5230 ",(0,n.kt)("inlineCode",{parentName:"p"},"ultralytics")," \u9879\u76ee\u7684 ",(0,n.kt)("inlineCode",{parentName:"p"},"ultralytics/datasets")," \u76ee\u5f55\u4e0b\uff0c\u590d\u5236\u540e\u6587\u4ef6\u7ed3\u6784\u5982\u4e0b"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"datasets/\n\u2514\u2500\u2500 custom\n    \u251c\u2500\u2500 data.yaml\n    \u251c\u2500\u2500 README.dataset.txt\n    \u251c\u2500\u2500 README.roboflow.txt\n    \u251c\u2500\u2500 test\n    \u2502\xa0\xa0 \u251c\u2500\u2500 images\n    \u2502\xa0\xa0 \u2514\u2500\u2500 labels\n    \u251c\u2500\u2500 train\n    \u2502\xa0\xa0 \u251c\u2500\u2500 images\n    \u2502\xa0\xa0 \u2514\u2500\u2500 labels\n    \u2514\u2500\u2500 valid\n        \u251c\u2500\u2500 images\n        \u2514\u2500\u2500 labels\n")),(0,n.kt)("p",null,"\u53c2\u7167 ",(0,n.kt)("a",{parentName:"p",href:"https://docs.ultralytics.com/modes/train/#usage-examples"},"Usage Examples")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"# \u4ece YAML \u6784\u5efa\u65b0\u6a21\u578b\uff0c\u4ece\u5934\u5f00\u59cb\u8bad\u7ec3\nyolo detect train data=coco128.yaml model=yolov8n.yaml epochs=100 imgsz=640\n\n# \u4ece\u9884\u8bad\u7ec3\u7684 *.pt \u6a21\u578b\u5f00\u59cb\u8bad\u7ec3\nyolo detect train data=coco128.yaml model=yolov8n.pt epochs=100 imgsz=640\n\n# \u4ece YAML \u6784\u5efa\u4e00\u4e2a\u65b0\u6a21\u578b\uff0c\u5c06\u9884\u8bad\u7ec3\u6743\u91cd\u8f6c\u79fb\u5230\u5176\u4e2d\u5e76\u5f00\u59cb\u8bad\u7ec3\nyolo detect train data=coco128.yaml model=yolov8n.yaml pretrained=yolov8n.pt epochs=100 imgsz=640\n")),(0,n.kt)("p",null,"\u9009\u62e9\u76f4\u63a5\u4ece\u9884\u8bad\u7ec3\u7684\u6a21\u578b\u8fdb\u884c\u8bad\u7ec3"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"yolo detect train data=custom/data.yaml model=yolov8s.pt epochs=100 imgsz=640 batch=4\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"batch \u6839\u636e\u4f60\u8bbe\u5907\u7684\u6027\u80fd\u8fdb\u884c\u8c03\u6574")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u5f00\u59cb\u8bad\u7ec3"),"\uff0c\u8bad\u7ec3\u8fc7\u7a0b\u7684\u65e5\u5fd7\u5c06\u4fdd\u5b58\u5728 ",(0,n.kt)("inlineCode",{parentName:"p"},"ultralytics/runs/detect/train")," \u4e2d"),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/screenshot/yolov8/yolov8-train-start.png",alt:null})),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u8bad\u7ec3\u5b8c\u6210"),"\uff0c\u8bad\u7ec3\u7ed3\u679c\u7684\u5168\u4e2d\u5c06\u4fdd\u5b58\u5728 ",(0,n.kt)("inlineCode",{parentName:"p"},"ultralytics/runs/detect/train/weights")," \u4e2d\uff0c\u5206\u522b\u4e3a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"best.pt \u9a8c\u8bc1\u6548\u679c\u6700\u597d\u7684\u6743\u91cd\u6587\u4ef6"),(0,n.kt)("li",{parentName:"ul"},"last.pt \u6700\u540e\u4e00\u4e2a\u8bad\u7ec3\u8f6e\u6b21\u7684\u6743\u91cd\u6587\u4ef6")),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/screenshot/yolov8/yolov8-train-result.png",alt:null})),(0,n.kt)("h2",{id:"val-and-predict"},"val and predict"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u9a8c\u8bc1")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"yolo detect val model=runs/detect/train/weights/best.pt  # val custom model\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u9884\u6d4b")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"yolo predict model=runs/detect/train/weights/best.pt source='{image-path}' imgsz=640\n")),(0,n.kt)("h2",{id:"convert-to-onnx"},"convert to onnx"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"yolo export model=runs/detect/train/weights/best.pt imgsz=640 format=onnx opset=12\n")),(0,n.kt)("h2",{id:"opencv-dnn"},"OpenCV DNN"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},(0,n.kt)("a",{parentName:"strong",href:"https://sinnammanyo.cn/stack/cv/opencv/dnn/opencv-dnn-ultralytics"},"\u4f7f\u7528 CV::DNN \u6a21\u5757\u8bfb\u53d6 ultralytics/YOLO-v8 ONNX \u6a21\u578b\u8fdb\u884c\u5b9e\u65f6\u76ee\u6807\u68c0\u6d4b")))),(0,n.kt)("h2",{id:"\u53c2\u8003"},"\u53c2\u8003"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},(0,n.kt)("a",{parentName:"strong",href:"https://github.com/ultralytics/ultralytics"},"ultralytics/ultralytics"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},(0,n.kt)("a",{parentName:"strong",href:"https://docs.ultralytics.com/"},"YOLOv8 Docs"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},(0,n.kt)("a",{parentName:"strong",href:"https://help.roboflow.com/cn_CN/get-started/dataset-upload-roboflow-data-types"},"\u5f00\u59cb\u4f7f\u7528 - Roboflow")))))}u.isMDXComponent=!0}}]);