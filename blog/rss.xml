<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Rcxxx's Personal Site Blog</title>
        <link>https://sinnammanyo.cn/blog</link>
        <description>Rcxxx's Personal Site Blog</description>
        <lastBuildDate>Sat, 10 Jun 2023 06:47:53 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>zh-Hans</language>
        <item>
            <title><![CDATA[OpenCV Nginx 实现局域网视频推流/拉流]]></title>
            <link>https://sinnammanyo.cn/blog/2023/02/opencv-nginx-rtmp</link>
            <guid>https://sinnammanyo.cn/blog/2023/02/opencv-nginx-rtmp</guid>
            <pubDate>Sat, 10 Jun 2023 06:47:53 GMT</pubDate>
            <description><![CDATA[Nginx+RTMP 视频服务器]]></description>
            <content:encoded><![CDATA[<h3 class="anchor anchorWithStickyNavbar_LWe7" id="highlight-color25c2a0nginxrtmp-视频服务器highlight"><a href="https://github.com/FelisCatus/SwitchyOmega" target="_blank" rel="noopener noreferrer"><span style="background-color:#25c2a0;border-radius:5px;color:#fff;padding:0.2rem">Nginx+RTMP 视频服务器</span></a><a href="#highlight-color25c2a0nginxrtmp-视频服务器highlight" class="hash-link" aria-label="highlight-color25c2a0nginxrtmp-视频服务器highlight的直接链接" title="highlight-color25c2a0nginxrtmp-视频服务器highlight的直接链接">​</a></h3><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/nginx-rtmp/nginx-status.png" class="img_ev3q"></p><p>yolo detect predict model=E:\workspace\yolov8\ultralytics-main\runs\detect\train2\weights\best.pt source='E:<!-- -->\<!-- -->workspace<!-- -->\<!-- -->yolov8<!-- -->\<!-- -->ultralytics-main<!-- -->\<!-- -->workspace<!-- -->\<!-- -->datasets<!-- -->\<!-- -->Insta360-v2<!-- -->\<!-- -->test<!-- -->\<!-- -->images<!-- -->\<!-- -->348_jpg.rf.8646ad42db71bb9b4761ad1c5609eb61.jpg' </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="安装-nginx">安装 <code>Nginx</code><a href="#安装-nginx" class="hash-link" aria-label="安装-nginx的直接链接" title="安装-nginx的直接链接">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> nginx libnginx-mod-rtmp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>验证安装</li></ul><ol><li><code>Nginx</code> 安装完成后将会自动启动服务，可以通过 <code>systemctl status</code></li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> systemctl status nginx.service</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li><p>通过 <code>ifconfig</code> 查看 ip 地址</p></li><li><p>浏览器输入 ip 地址查看运行情况</p></li></ol><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/nginx-rtmp/welcome-nginx.png" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="配置-rtmp-服务器">配置 RTMP 服务器<a href="#配置-rtmp-服务器" class="hash-link" aria-label="配置 RTMP 服务器的直接链接" title="配置 RTMP 服务器的直接链接">​</a></h4><ol><li>编辑 <code>nginx</code> 配置文件</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">vim</span><span class="token plain"> /etc/nginx/nginx.conf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>文件末尾添加 rtmp 服务器配置</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rtmp </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    server </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        listen </span><span class="token number" style="color:#36acaa">1935</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        chunk_size </span><span class="token number" style="color:#36acaa">4096</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        application live </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            live on</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            record off</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>rtmp</code> 块定义了 RTMP 协议支持的服务器</li><li><code>server</code> 块定义服务器监听的端口，<code>listen</code> 即为定义端口</li><li><code>application</code> 定义应用程序名称<ul><li><code>live on</code> 指服务器开始接收来自客户端的 RTMP 流</li><li><code>record off</code> 指不保存直播流到服务器</li></ul></li></ul><ol start="3"><li>修改配置文件完成后，重启 <code>nginx</code> 服务</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> systemctl reload nginx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="opencv--ffmpeg-实现局域网视频推流">OpenCV + ffmpeg 实现局域网视频推流<a href="#opencv--ffmpeg-实现局域网视频推流" class="hash-link" aria-label="OpenCV + ffmpeg 实现局域网视频推流的直接链接" title="OpenCV + ffmpeg 实现局域网视频推流的直接链接">​</a></h3><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> cv2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> subprocess</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cap </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cv2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">VideoCapture</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 设置视频流的分辨率和帧率</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cap</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cv2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CAP_PROP_FRAME_WIDTH</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">640</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cap</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cv2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CAP_PROP_FRAME_HEIGHT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">480</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cap</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cv2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CAP_PROP_FPS</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 创建RTMP推送流对象</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rtmp_url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'rtmp://[your_ip]:1935/live/stream'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">command </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'ffmpeg'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'-y'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token string" style="color:#e3116c">'-f'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'rawvideo'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token string" style="color:#e3116c">'-vcodec'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'rawvideo'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token string" style="color:#e3116c">'-pix_fmt'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'bgr24'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token string" style="color:#e3116c">'-s'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'640x480'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token string" style="color:#e3116c">'-r'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'30'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token string" style="color:#e3116c">'-i'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'-'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token string" style="color:#e3116c">'-c:v'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'libx264'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'-preset'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'ultrafast'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token string" style="color:#e3116c">'-f'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'flv'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> rtmp_url</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> subprocess</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Popen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">command</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> stdin</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">subprocess</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PIPE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 创建视频编码器对象</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">out </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cv2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">VideoWriter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rtmp_url</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      cv2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CAP_FFMPEG</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      cv2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">VideoWriter_fourcc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'H'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'2'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'6'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'4'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      </span><span class="token number" style="color:#36acaa">30.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">640</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">480</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 循环获取摄像头帧，并进行推流</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 读取摄像头帧</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> frame </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cap</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 写入视频编码器</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">frame</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 将帧写入RTMP推送流中</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stdin</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">frame</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tostring</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cv2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">imshow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'Local Stream'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> frame</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 按下q键退出循环</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> cv2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">waitKey</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">27</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 释放视频编码器和摄像头</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">release</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cap</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">release</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 关闭所有窗口</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cv2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">destroyAllWindows</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 终止RTMP推送流进程</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">terminate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stdin</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">wait</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/nginx-rtmp/push-stream.png" class="img_ev3q"></p><ul><li>使用 OBS 之类的软件按照相应地址拉取视频流</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="opencv-局域网拉取-rtmp-视屏流">OpenCV 局域网拉取 RTMP 视屏流<a href="#opencv-局域网拉取-rtmp-视屏流" class="hash-link" aria-label="OpenCV 局域网拉取 RTMP 视屏流的直接链接" title="OpenCV 局域网拉取 RTMP 视屏流的直接链接">​</a></h3><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> cv2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rtmp_url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'rtmp://[your_ip]:1935/live/stream'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cap </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cv2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">VideoCapture</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rtmp_url</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> frame </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cap</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cv2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">imshow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'RTMP Stream'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> frame</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> cv2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">waitKey</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">27</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cap</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">release</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cv2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">destroyAllWindows</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>推流与拉流效果
<img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/nginx-rtmp/stream-result.png" class="img_ev3q"></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="参考">参考<a href="#参考" class="hash-link" aria-label="参考的直接链接" title="参考的直接链接">​</a></h2><p><a href="https://www.cnblogs.com/zhuzi1/p/17056030.html" target="_blank" rel="noopener noreferrer">ubuntu20.04搭建Nginx+rtmp服务器</a></p>]]></content:encoded>
            <category>OpenCV</category>
            <category>Nginx</category>
            <category>rtmp</category>
        </item>
        <item>
            <title><![CDATA[Chrome 浏览器插件 SwitchyOmega 的使用]]></title>
            <link>https://sinnammanyo.cn/blog/2023/02/switchyomage</link>
            <guid>https://sinnammanyo.cn/blog/2023/02/switchyomage</guid>
            <pubDate>Sat, 10 Jun 2023 06:47:53 GMT</pubDate>
            <description><![CDATA[SwitchyOmega]]></description>
            <content:encoded><![CDATA[<h3 class="anchor anchorWithStickyNavbar_LWe7" id="highlight-color25c2a0switchyomegahighlight"><a href="https://github.com/FelisCatus/SwitchyOmega" target="_blank" rel="noopener noreferrer"><span style="background-color:#25c2a0;border-radius:5px;color:#fff;padding:0.2rem">SwitchyOmega</span></a><a href="#highlight-color25c2a0switchyomegahighlight" class="hash-link" aria-label="highlight-color25c2a0switchyomegahighlight的直接链接" title="highlight-color25c2a0switchyomegahighlight的直接链接">​</a></h3><p><strong>一个代理设置工具，只提供浏览器的代理方式切换，不提供代理服务器</strong></p><p>简单易上手</p><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/switchyomega/switchyomega.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="代理服务器">代理服务器<a href="#代理服务器" class="hash-link" aria-label="代理服务器的直接链接" title="代理服务器的直接链接">​</a></h3><p>······</p><p>使用插件之前，需要有一个代理服务器</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="客户端">客户端<a href="#客户端" class="hash-link" aria-label="客户端的直接链接" title="客户端的直接链接">​</a></h3><p>例如 <strong><code>V2rayN</code></strong>、<strong><code>Clash</code></strong> 之类的客户端</p><ul><li><em><a href="https://github.com/Dreamacro/clash" target="_blank" rel="noopener noreferrer"><strong>Dreamacro/clash</strong></a></em></li><li><em><a href="https://github.com/2dust/v2rayN" target="_blank" rel="noopener noreferrer"><strong>2dust/v2rayN</strong></a></em></li></ul><p>这里以 <strong><a href="https://github.com/Fndroid/clash_for_windows_pkg" target="_blank" rel="noopener noreferrer"><code>clash_for_windows_pkg</code></a></strong> 为例，可以在仓库的 <a href="https://github.com/Fndroid/clash_for_windows_pkg/tags" target="_blank" rel="noopener noreferrer"><strong>Tag</strong></a> 发布页中下载</p><ul><li><p>General 为主页面，包含最基本的设置 —— 端口号、是否允许局域网、设置系统代理、开机自启动等
<img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/switchyomega/clash_for_win.png" class="img_ev3q"></p></li><li><p>proxies 为代理界面，用来切换节点，以及代理方式 —— 全局、规则、直连、脚本
<img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/switchyomega/clash_for_win_proxies.png" class="img_ev3q"></p></li><li><p>Profiles 为配置文件界面，连接到服务器端必备的配置 —— 包含订阅内容等</p></li><li><p>Logs 日志界面</p></li><li><p>Connections 链接状态界面</p></li><li><p>Setting 设置界面，可以设置软件的主题，以及各种选项</p></li><li><p>Feedback 反馈界面</p></li></ul><p>基于你的操作系统可以选择不同的客户端</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="macos">MacOS<a href="#macos" class="hash-link" aria-label="MacOS的直接链接" title="MacOS的直接链接">​</a></h4><ul><li><em><a href="https://github.com/yichengchen/clashX" target="_blank" rel="noopener noreferrer"><strong>yichengchen/clashX</strong></a></em></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="winlinux">Win/Linux<a href="#winlinux" class="hash-link" aria-label="Win/Linux的直接链接" title="Win/Linux的直接链接">​</a></h4><ul><li><em><a href="https://github.com/Fndroid/clash_for_windows_pkg" target="_blank" rel="noopener noreferrer"><strong>Fndroid/clash_for_windows_pkg</strong></a></em></li></ul><p>虽说名字叫 <code>clash_for_windows_pkg</code> 但其实全平台都可以使用，只需要下载对应的内容即可</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="switchyomega"><span style="background-color:#25c2a0;border-radius:5px;color:#fff;padding:0.2rem">SwitchyOmega</span><a href="#switchyomega" class="hash-link" aria-label="switchyomega的直接链接" title="switchyomega的直接链接">​</a></h3><p>诸如 <code>Chrome</code>、<code>Microsoft Edge</code>、<code>Firefox</code> 等主流浏览器，都可以在拓展应用商店找到这个插件</p><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/switchyomega/edge_addons.png" class="img_ev3q"></p><p>安装好之后的 SwitchyOmega 默认有两个情景模式</p><ul><li><strong>proxy 代理模式</strong></li></ul><p>根据客户端的配置，依次修改 <code>协议</code>、<code>服务器地址</code>、<code>端口</code>，应用选项完成设置</p><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/switchyomega/switchyomega-proxy.png" class="img_ev3q"></p><ul><li><strong>auto switch 自动切换模式</strong></li></ul><p>有时候一些网站是不需要代理也可以直接访问的，而有的又需要用到代理，频繁的切换模式是一件比较繁琐的事</p><p>通过规则列表，就可以实现对不同域名的自动切换模式，选择规则列表设置为 <code>AutoProxy</code> 填入规则列表，更新情景模式即可</p><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/switchyomega/switchyomega-auto.png" class="img_ev3q"></p><p><strong>规则列表文件地址</strong></p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="使用">使用<a href="#使用" class="hash-link" aria-label="使用的直接链接" title="使用的直接链接">​</a></h4><p>前面已经将插件配置完成，使用的时候只需要点击插件的图标，切换自己需要使用的模式即可</p><p>会存在一些网址没有被写在规则列表内，可以手动进行添加</p><p>也可以点击图标设置</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="配置完成"><span style="background-color:#FF7F00;border-radius:5px;color:#fff;padding:0.2rem">✨配置完成✨</span><a href="#配置完成" class="hash-link" aria-label="配置完成的直接链接" title="配置完成的直接链接">​</a></h3><p>至此可以开始方便的网页浏览</p>]]></content:encoded>
            <category>SwitchyOmega</category>
            <category>Clash</category>
        </item>
        <item>
            <title><![CDATA[OpenCV 源码编译全总结]]></title>
            <link>https://sinnammanyo.cn/blog/2023/03/windows-opencv-contrib-cuda</link>
            <guid>https://sinnammanyo.cn/blog/2023/03/windows-opencv-contrib-cuda</guid>
            <pubDate>Sat, 10 Jun 2023 06:47:53 GMT</pubDate>
            <description><![CDATA[OpenCV 是一个跨平台计算机视觉的开源库，实现了很多图像处理和计算机视觉方面的通用算法]]></description>
            <content:encoded><![CDATA[<p><code>OpenCV</code> 是一个跨平台计算机视觉的开源库，实现了很多图像处理和计算机视觉方面的通用算法</p><p>官网虽然提供了预编译好的文件，但是想要使用 <code>contrib</code> 拓展模块或者是 <code>CUDA</code> 的 GPU 支持，就需要从源码编译</p><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/opencv-contirb-cuda/opencv-cover-eye.jpg" class="img_ev3q"></p><p><strong><a href="#windows"><span style="background-color:#25c2a0;border-radius:5px;color:#fff;padding:0.2rem">Windows篇</span></a></strong> ==== <strong><a href="#linux"><span style="background-color:#25c2a0;border-radius:5px;color:#fff;padding:0.2rem">Linux篇</span></a></strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="windows">Windows<a href="#windows" class="hash-link" aria-label="Windows的直接链接" title="Windows的直接链接">​</a></h2><ul><li>软件版本</li></ul><table><thead><tr><th>name</th><th align="center">version</th></tr></thead><tbody><tr><td>System</td><td align="center">Windows 10 22H2</td></tr><tr><td>CMake-GUI</td><td align="center"><strong><a href="https://cmake.org/" target="_blank" rel="noopener noreferrer">v3.24.3</a></strong></td></tr><tr><td>OpenCV</td><td align="center"><strong><a href="https://github.com/opencv/opencv/releases/tag/4.7.0" target="_blank" rel="noopener noreferrer">v4.7.0</a></strong></td></tr><tr><td>OpenCV-Contrib</td><td align="center"><strong><a href="https://github.com/opencv/opencv_contrib/releases/tag/4.7.0" target="_blank" rel="noopener noreferrer">v4.7.0</a></strong></td></tr><tr><td>Visual Studio</td><td align="center"><strong><a href="https://visualstudio.microsoft.com/zh-hans/vs/" target="_blank" rel="noopener noreferrer">2022</a></strong></td></tr><tr><td>(可选)CUDA</td><td align="center"><strong><a href="https://developer.nvidia.com/cuda-12-0-0-download-archive" target="_blank" rel="noopener noreferrer">v12.0</a></strong></td></tr><tr><td>(可选)CUDNN</td><td align="center"><strong><a href="https://developer.nvidia.com/cudnn" target="_blank" rel="noopener noreferrer">v8.8.1</a></strong></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="安装-cudacudnn">安装 CUDA/CUDNN<a href="#安装-cudacudnn" class="hash-link" aria-label="安装 CUDA/CUDNN的直接链接" title="安装 CUDA/CUDNN的直接链接">​</a></h3><p>这一步仅针对有 NVIDIA GPU 的设备，不需要则跳转到 <a href="#%E8%8E%B7%E5%8F%96%E6%BA%90%E7%A0%81">获取源码</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="下载-cuda-离线安装包">下载 <a href="https://developer.nvidia.com/cuda-12-0-0-download-archive" target="_blank" rel="noopener noreferrer">CUDA 离线安装包</a><a href="#下载-cuda-离线安装包" class="hash-link" aria-label="下载-cuda-离线安装包的直接链接" title="下载-cuda-离线安装包的直接链接">​</a></h4><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/opencv-contirb-cuda/CUDA-download.png" class="img_ev3q"></p><p>选择解压目录，解压完成后开始安装，默认安装路径为 </p><p><strong><code>C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.0</code></strong></p><ul><li><code>v12.0</code> 为你所选的 CUDA 版本</li></ul><p>安装完成后 CUDA 目录会被添加到环境变量，如果没有被添加，手动添加到系统 path 变量中</p><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/opencv-contirb-cuda/CUDA-env-path.png" class="img_ev3q">
<img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/opencv-contirb-cuda/CUDA-env-path-2.png" class="img_ev3q"></p><p>在 <code>cmd</code> 中使用 <code>nvcc -V</code> 查看 CUDA 版本信息，验证安装</p><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/opencv-contirb-cuda/nvcc-V.png" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="下载-cudnn-文件压缩包">下载 <a href="https://developer.nvidia.com/cudnn" target="_blank" rel="noopener noreferrer">CUDNN 文件压缩包</a><a href="#下载-cudnn-文件压缩包" class="hash-link" aria-label="下载-cudnn-文件压缩包的直接链接" title="下载-cudnn-文件压缩包的直接链接">​</a></h4><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/opencv-contirb-cuda/CUDNN-download.png" class="img_ev3q"></p><p>解压后如下</p><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/opencv-contirb-cuda/cudnn-unzip.png" class="img_ev3q"></p><p>将除 <code>LICENSE</code> 外的文件全都复制到 CUDA 的安装路径下，如果是默认安装位置，则为
<strong><code>C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.0</code></strong></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="验证-cuda--cudnn-安装">验证 CUDA &amp; CUDNN 安装<a href="#验证-cuda--cudnn-安装" class="hash-link" aria-label="验证 CUDA &amp; CUDNN 安装的直接链接" title="验证 CUDA &amp; CUDNN 安装的直接链接">​</a></h4><p>打开 <code>cmd</code> 进入 CUDA 安装目录的 <code>extras\demo_suite</code> 目录</p><div class="language-cmd codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cmd codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.0\extras\demo_suite</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>输入 <code>bandwidthTest.exe</code> 进行验证</p><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/opencv-contirb-cuda/bandwidthTest.png" class="img_ev3q"></p><p>输入 <code>deviceQuery.exe</code> 进行验证</p><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/opencv-contirb-cuda/deviceQuery.png" class="img_ev3q"></p><p>都输出 <code>Result = PASS</code> 则安装完成</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="获取源码">获取源码<a href="#获取源码" class="hash-link" aria-label="获取源码的直接链接" title="获取源码的直接链接">​</a></h3><table><thead><tr><th>name</th><th>version</th></tr></thead><tbody><tr><td>OpenCV</td><td><strong><a href="https://github.com/opencv/opencv/releases/tag/4.7.0" target="_blank" rel="noopener noreferrer">v4.7.0</a></strong></td></tr><tr><td>OpenCV-Contrib</td><td><strong><a href="https://github.com/opencv/opencv_contrib/releases/tag/4.7.0" target="_blank" rel="noopener noreferrer">v4.7.0</a></strong></td></tr></tbody></table><p>解压后放在同一目录下，新建 <code>build</code> 文件夹</p><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/opencv-contirb-cuda/get-soure.png" class="img_ev3q"></p><ul><li><code>build</code> 文件夹用来存放编译后的文件，可以任意命名</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="配置-cmake-项目">配置 CMake 项目<a href="#配置-cmake-项目" class="hash-link" aria-label="配置 CMake 项目的直接链接" title="配置 CMake 项目的直接链接">​</a></h3><p>打开 CMake-GUI 分别填入 <code>build</code> 文件夹路径以及 <code>opencv-4.7.0</code> 源码路径</p><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/opencv-contirb-cuda/build-path.png" class="img_ev3q"></p><p>然后点击 <code>Configure</code> 选择 <code>Visual Studio</code> 版本</p><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/opencv-contirb-cuda/Cmake-Configure.png" class="img_ev3q"></p><p>会出现类似如下的红色提示</p><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/opencv-contirb-cuda/Cmake-Configure-error.png" class="img_ev3q"></p><p>原因是 <code>CMake</code> 在配置时会需要下载一些依赖，但是由于网络原因，导致依赖无法下载，根据提示，可以看到链接不到的网址为</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Couldn</span><span class="token string" style="color:#e3116c">'t download files from the Internet.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  Please check the Internet access on this host.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">=======================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">CMake Warning at cmake/OpenCVDownload.cmake:248 (message):</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  IPPICV: Download failed: 6;"Couldn'</span><span class="token plain">t resolve </span><span class="token function" style="color:#d73a49">host</span><span class="token plain"> name"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  For details please refer to the download log file:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  E:/workspace/temp/build/CMakeDownloadLog.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Call Stack </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">most recent call first</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  3rdparty/ippicv/ippicv.cmake:37 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ocv_download</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  cmake/OpenCVFindIPP.cmake:259 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">download_ippicv</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  cmake/OpenCVFindLibsPerf.cmake:12 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">include</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CMakeLists.txt:750 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">include</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>根据输出信息，找到 <code>opencv-4.7.0\3rdparty\ippicv\ippicv.cmake</code> 文件位置</p><p>修改 <code>https://raw.githubusercontent.com/opencv/opencv_3rdparty/${IPPICV_COMMIT}/ippicv/</code> 中的 <code>raw.githubusercontent.com</code></p><p>将 url 修改为 <code>https://raw.fastgit.org/opencv/opencv_3rdparty/${IPPICV_COMMIT}/ippicv/</code></p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_S0QG"><p>下面两个文件加速CDN可选</p><blockquote><ol><li><em><a href="https://gitmirror.com/raw.html" target="_blank" rel="noopener noreferrer">Github RAW 加速服务</a></em></li><li><em><a href="http://fastgit.org/" target="_blank" rel="noopener noreferrer">Fast Git</a></em></li></ol></blockquote><p>1 中不支持 .(zip|rar|7z|apk|ipa|exe|msi|m3u|m3u8|mp4|mp3) 等文件类型的加速</p></div></div><p>再次 <code>Configure</code> 发现 <code>ippicv</code> 下载成功</p><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/opencv-contirb-cuda/ippicv-download.png" class="img_ev3q"></p><p>但是依然出现 <code>FFMPEG: Download failed: 6;"Couldn't resolve host name"</code> 的错误提示，按前面的方式修改 url 后继续 <code>Configure</code></p><p>错误信息全部清除后将出现</p><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/opencv-contirb-cuda/Configure-done.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="设置-cmake-构建选项">设置 CMake 构建选项<a href="#设置-cmake-构建选项" class="hash-link" aria-label="设置 CMake 构建选项的直接链接" title="设置 CMake 构建选项的直接链接">​</a></h3><p><strong>添加完设置后都重新 <code>Configure</code></strong></p><p>添加 <code>OpenCV-Contrib</code> 路径</p><ul><li><code>OPENCV_EXTRA_MODULES_PATH</code> 填入 <code>opencv_contrib-4.7.0/modules</code> 路径</li></ul><p>同样出现一些文件下载失败的警告，按照之前的方式，修改 url 清除全部警告</p><ul><li><span style="background-color:#FFA500;border-radius:5px;color:#fff;padding:0.2rem">[可选]</span> 开启 CUDA 支持</li></ul><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/opencv-contirb-cuda/with-CUDA.png" class="img_ev3q"></p><ul><li><span style="background-color:#FFA500;border-radius:5px;color:#fff;padding:0.2rem">[可选]</span> 编译 CUDA 支持的 Python 包</li></ul><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/opencv-contirb-cuda/with-Python.png" class="img_ev3q"></p><p>如果启用了 anaconda 环境，则需要将对应的 python lib 路径设置为正确的路径</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="visual-studio-执行编译">Visual Studio 执行编译<a href="#visual-studio-执行编译" class="hash-link" aria-label="Visual Studio 执行编译的直接链接" title="Visual Studio 执行编译的直接链接">​</a></h3><h2 class="anchor anchorWithStickyNavbar_LWe7" id="linux">Linux<a href="#linux" class="hash-link" aria-label="Linux的直接链接" title="Linux的直接链接">​</a></h2><ul><li>软件版本</li></ul><table><thead><tr><th>name</th><th align="center">version</th></tr></thead><tbody><tr><td>System</td><td align="center">Ubuntu 20.04.5 LTS</td></tr><tr><td>CMake-GUI</td><td align="center"><strong><a href="https://cmake.org/" target="_blank" rel="noopener noreferrer">v3.24.3</a></strong></td></tr><tr><td>OpenCV</td><td align="center"><strong><a href="https://github.com/opencv/opencv/releases/tag/4.7.0" target="_blank" rel="noopener noreferrer">v4.7.0</a></strong></td></tr><tr><td>OpenCV-Contrib</td><td align="center"><strong><a href="https://github.com/opencv/opencv_contrib/releases/tag/4.7.0" target="_blank" rel="noopener noreferrer">v4.7.0</a></strong></td></tr></tbody></table><ul><li><a href="https://github.com/opencv/opencv_extra/releases/tag/4.7.0" target="_blank" rel="noopener noreferrer"><strong><code>opencv_extra-4.7.0</code></strong></a>
Visual Studio | <strong><a href="https://visualstudio.microsoft.com/zh-hans/vs/" target="_blank" rel="noopener noreferrer">2022</a></strong>
(可选)CUDA | <strong><a href="https://developer.nvidia.com/cuda-12-0-0-download-archive" target="_blank" rel="noopener noreferrer">v12.0</a></strong>
(可选)CUDNN | <strong><a href="https://developer.nvidia.com/cudnn" target="_blank" rel="noopener noreferrer">v8.8.1</a></strong></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="获取-opencv-源码">获取 <strong><code>OpenCV</code></strong> 源码<a href="#获取-opencv-源码" class="hash-link" aria-label="获取-opencv-源码的直接链接" title="获取-opencv-源码的直接链接">​</a></h3><ul><li><a href="https://github.com/opencv/opencv/releases/tag/4.7.0" target="_blank" rel="noopener noreferrer"><strong><code>opencv-4.7.0</code></strong></a></li><li><a href="https://github.com/opencv/opencv_contrib/releases/tag/4.7.0" target="_blank" rel="noopener noreferrer"><strong><code>opencv_contrib-4.7.0</code></strong></a></li><li><a href="https://github.com/opencv/opencv_extra/releases/tag/4.7.0" target="_blank" rel="noopener noreferrer"><strong><code>opencv_extra-4.7.0</code></strong></a></li></ul><p>下载完成后解压</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> zxvf opencv-4.7.0.tar.gz ~/workspace/opencv/4.7.0/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> zxvf opencv_contrib-4.7.0.tar.gz ~/workspace/opencv/4.7.0/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> zxvf opencv_extra-4.7.0.tar.gz ~/workspace/opencv/4.7.0/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="安装各种依赖">安装各种依赖<a href="#安装各种依赖" class="hash-link" aria-label="安装各种依赖的直接链接" title="安装各种依赖的直接链接">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">build-essential </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cmake </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">libgtk2.0-dev </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pkg-config </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">libavcodec-dev </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">libavformat-dev </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">libswscale-dev </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">libtbb2 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">libtbb-dev </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">libjpeg-dev </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">libpng-dev </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">libtiff-dev </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">libdc1394-22 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">libglew-dev </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">zlib1g-dev </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">libavutil-dev </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">libpostproc-dev </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">libeigen3-dev </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">libopenexr-dev </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">libwebp-dev </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">libgtk-3-dev </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">qtbase5-dev </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">libgstreamer1.0-dev </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">libgstreamer-plugins-base1.0-dev</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong><code>libjasper-dev</code></strong></li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> add-apt-repository </span><span class="token string" style="color:#e3116c">"deb http://security.ubuntu.com/ubuntu xenial-security main"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt</span><span class="token plain"> update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> libjasper-dev</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="编译">编译<a href="#编译" class="hash-link" aria-label="编译的直接链接" title="编译的直接链接">​</a></h3><p>新建 <code>build/</code> 目录存放编译生成的文件</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> ~/workspace/opencv/4.7.0/</span><span class="token punctuation" style="color:#393A34">;</span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> build</span><span class="token punctuation" style="color:#393A34">;</span><span class="token builtin class-name">cd</span><span class="token plain"> build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong><span style="background-color:#FFA500;border-radius:5px;color:#fff;padding:0.2rem">[可选]</span></strong> 配置并生成 <code>makefile</code> 过程中会下载一些依赖内容，建议开启网络代理</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">http_proxy</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">socks5://127.0.0.1:7890</span><span class="token punctuation" style="color:#393A34">;</span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">https_proxy</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">socks5://127.0.0.1:7890</span><span class="token punctuation" style="color:#393A34">;</span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">all_proxy</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">socks5://127.0.0.1:7890</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong><span style="background-color:#FFA500;border-radius:5px;color:#fff;padding:0.2rem">[可选]</span></strong> 如果你的 Python 环境使用 <code>Anaconda</code> 或者是其他的 python 环境管理应用，记得启用你的虚拟环境，这里会配置 python 包的路径，编译支持 CUDA 的 opencv-python 版本</li></ul><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">仅CPU</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">GPU支持</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>配置 <code>cmake</code> 参数，修改 <code>opencv_extra</code> 和 <code>opencv_contrib</code> 的路径</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cmake -DCMAKE_BUILD_TYPE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Release </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DCMAKE_INSTALL_PREFIX</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/usr/local </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DOPENCV_GENERATE_PKGCONFIG</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">YES </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DWITH_QT</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DWITH_OPENGL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DWITH_TBB</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DWITH_GTK</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DBUILD_opencv_python2</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">OFF </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DBUILD_opencv_python3</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">OFF </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DINSTALL_TESTS</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DOPENCV_TEST_DATA_PATH</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">/opencv_extra-4.7.0/testdata </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DOPENCV_EXTRA_MODULES_PATH</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">/opencv_contrib-4.7.0/modules </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">/opencv-4.7.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>这里选择不编译 <code>opencv-python</code> 包，CPU 版本的 <code>opencv-python</code> 直接 pip 安装即可</p></div><div role="tabpanel" class="tabItem_Ymn6"><p>配置 <code>cmake</code> 参数，修改 <code>opencv_extra</code> 和 <code>opencv_contrib</code> 的路径</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cmake -DCMAKE_BUILD_TYPE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Release </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DCMAKE_INSTALL_PREFIX</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/usr/local </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DOPENCV_GENERATE_PKGCONFIG</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">YES </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DWITH_QT</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DWITH_OPENGL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DWITH_TBB</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DWITH_OPENCL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DWITH_FFMPEG</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DWITH_CUDA</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DOPENCV_DNN_CUDA</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DCUDA_ARCH_BIN</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5.0</span><span class="token plain">,5.2,6.0,6.1,7.0,7.5,8.0,8.6,8.9,9.0 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DENABLE_FAST_MATH</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DCUDA_FAST_MATH</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DWITH_CUBLAS</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DWITH_GTK</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DCUDA_TOOLKIT_ROOT_DIR</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/usr/local/cuda </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DCUDA_ARCH_PTX</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">""</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DINSTALL_TESTS</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DBUILD_WITH_DEBUG_INFO</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DBUILD_opencv_python3</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DPYTHON3_NUMPY_INCLUDE_DIRS</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable" style="color:#36acaa">python3 -c "import numpy</span><span class="token variable punctuation" style="color:#393A34">;</span><span class="token variable" style="color:#36acaa"> print</span><span class="token variable punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">numpy.get_include</span><span class="token variable punctuation" style="color:#393A34">(</span><span class="token variable punctuation" style="color:#393A34">)</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain">"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DPYTHON3_PACKAGES_PATH</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable" style="color:#36acaa">python3 -c "from distutils.sysconfig </span><span class="token variable function" style="color:#d73a49">import</span><span class="token variable" style="color:#36acaa"> get_python_lib</span><span class="token variable punctuation" style="color:#393A34">;</span><span class="token variable" style="color:#36acaa"> print</span><span class="token variable punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">get_python_lib</span><span class="token variable punctuation" style="color:#393A34">(</span><span class="token variable punctuation" style="color:#393A34">)</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain">"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DPYTHON3_LIBRARY</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable" style="color:#36acaa">python3 -c "from distutils.sysconfig </span><span class="token variable function" style="color:#d73a49">import</span><span class="token variable" style="color:#36acaa"> get_config_var</span><span class="token variable punctuation" style="color:#393A34">;</span><span class="token variable" style="color:#36acaa">from os.path </span><span class="token variable function" style="color:#d73a49">import</span><span class="token variable" style="color:#36acaa"> dirname,join </span><span class="token variable punctuation" style="color:#393A34">;</span><span class="token variable" style="color:#36acaa"> print</span><span class="token variable punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">join</span><span class="token variable punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">dirname</span><span class="token variable punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">get_config_var</span><span class="token variable punctuation" style="color:#393A34">(</span><span class="token variable string" style="color:#e3116c">'LIBPC'</span><span class="token variable punctuation" style="color:#393A34">)</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain">,get_config_var</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'LDLIBRARY'</span><span class="token punctuation" style="color:#393A34">))</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DOPENCV_TEST_DATA_PATH</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">/opencv_extra-4.7.0/testdata </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -DOPENCV_EXTRA_MODULES_PATH</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">/opencv_contrib-4.7.0/modules </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">/opencv-4.7.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><p>生成完之后开始编译</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">NUM_CPU</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable" style="color:#36acaa">nproc</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">make</span><span class="token plain"> -j</span><span class="token variable" style="color:#36acaa">$((</span><span class="token variable" style="color:#36acaa">$NUM_CPU </span><span class="token variable operator" style="color:#393A34">-</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable number" style="color:#36acaa">1</span><span class="token variable" style="color:#36acaa">))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>等待编译完成后</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">make</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="测试安装">测试安装<a href="#测试安装" class="hash-link" aria-label="测试安装的直接链接" title="测试安装的直接链接">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pkg-config --libs opencv4</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="测试-opencv-python-安装">测试 opencv-python 安装<a href="#测试-opencv-python-安装" class="hash-link" aria-label="测试 opencv-python 安装的直接链接" title="测试 opencv-python 安装的直接链接">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python -c </span><span class="token string" style="color:#e3116c">"import cv2;print(cv2.getBuildInformation())"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content:encoded>
            <category>OpenCV</category>
            <category>OpenCV-Contrib</category>
            <category>CUDA</category>
            <category>CUDNN</category>
        </item>
        <item>
            <title><![CDATA[Microsoft Edge 实用插件汇总]]></title>
            <link>https://sinnammanyo.cn/blog/2023/04/microsoftedge-addons</link>
            <guid>https://sinnammanyo.cn/blog/2023/04/microsoftedge-addons</guid>
            <pubDate>Sat, 10 Jun 2023 06:47:53 GMT</pubDate>
            <description><![CDATA[Microsoft Edge 浏览器的实用插件整理]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="microsoft-edge-浏览器的实用插件整理"><span style="background-color:#25c2a0;border-radius:5px;color:#fff;padding:0.2rem">Microsoft Edge</span> 浏览器的实用插件整理<a href="#microsoft-edge-浏览器的实用插件整理" class="hash-link" aria-label="microsoft-edge-浏览器的实用插件整理的直接链接" title="microsoft-edge-浏览器的实用插件整理的直接链接">​</a></h2><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/edge-addons/addons-installed.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="infinity-新标签页-pro">Infinity 新标签页 (Pro)<a href="#infinity-新标签页-pro" class="hash-link" aria-label="Infinity 新标签页 (Pro)的直接链接" title="Infinity 新标签页 (Pro)的直接链接">​</a></h3><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/edge-addons/addons-infinity.png" class="img_ev3q"></p><p>改变新建标签页样式，可以多设备之间同步</p><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/edge-addons/addons-infinity-new.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="proxy-switchyomega">Proxy SwitchyOmega<a href="#proxy-switchyomega" class="hash-link" aria-label="Proxy SwitchyOmega的直接链接" title="Proxy SwitchyOmega的直接链接">​</a></h3><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/edge-addons/addons-switchyomega.png" class="img_ev3q"></p><p>切换浏览器代理模式，详细配置可以看另一篇文章</p><ul><li><a href="https://sinnammanyo.cn/blog/2023/02/switchyomage" target="_blank" rel="noopener noreferrer">Chrome 浏览器插件 SwitchyOmega 的使用</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sider----ai-sidebar">Sider -- AI Sidebar<a href="#sider----ai-sidebar" class="hash-link" aria-label="Sider -- AI Sidebar的直接链接" title="Sider -- AI Sidebar的直接链接">​</a></h3><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/edge-addons/addons-sider.png" class="img_ev3q"></p><p>带有 ChatGPT 支持的侧边栏插件，能增强搜索，免费额度每日 30 条，可以配置 OpenAI API，直接使用 ChatGPT</p><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/edge-addons/addons-sider-key.png" class="img_ev3q"></p><p>配置后效果如下，搜索栏右侧有 ChatGPT 的回答，可以选择继续对话</p><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/edge-addons/addons-sider-result.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="adguard-广告拦截器">AdGuard 广告拦截器<a href="#adguard-广告拦截器" class="hash-link" aria-label="AdGuard 广告拦截器的直接链接" title="AdGuard 广告拦截器的直接链接">​</a></h3><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/edge-addons/addons-adguard.png" class="img_ev3q"></p><p>广告拦截器，自动拦截各种广告，提升浏览器体验</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="simple-allow-copy">Simple Allow Copy<a href="#simple-allow-copy" class="hash-link" aria-label="Simple Allow Copy的直接链接" title="Simple Allow Copy的直接链接">​</a></h3><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/edge-addons/addons-copy.png" class="img_ev3q"></p><p>让你可以复制被限制的内容</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="aix智能下载器">AIX智能下载器<a href="#aix智能下载器" class="hash-link" aria-label="AIX智能下载器的直接链接" title="AIX智能下载器的直接链接">​</a></h3><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/edge-addons/addons-aix.png" class="img_ev3q"></p><p>能直接下载网页中的绝大部分内容</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="awesome-screenshot">Awesome Screenshot<a href="#awesome-screenshot" class="hash-link" aria-label="Awesome Screenshot的直接链接" title="Awesome Screenshot的直接链接">​</a></h3><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/edge-addons/addons-screenshot.png" class="img_ev3q"></p><p>截图/录屏插件，可以实现整个网页的长截图，区域截图等</p>]]></content:encoded>
            <category>Edges</category>
            <category>SwitchyOmega</category>
            <category>ChatGPT</category>
        </item>
        <item>
            <title><![CDATA[ChatGPT 帮我找工作 -- C++篇]]></title>
            <link>https://sinnammanyo.cn/blog/2023/06/use-ChatGPT-mock-interviews</link>
            <guid>https://sinnammanyo.cn/blog/2023/06/use-ChatGPT-mock-interviews</guid>
            <pubDate>Sat, 10 Jun 2023 06:47:53 GMT</pubDate>
            <description><![CDATA[使用 ChatGPT 模拟一次针对 C++ 知识的面试]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用-chatgpt-模拟一次针对-c-知识的面试">使用 <span style="background-color:#25c2a0;border-radius:5px;color:#fff;padding:0.2rem">ChatGPT</span> 模拟一次针对 C++ 知识的面试<a href="#使用-chatgpt-模拟一次针对-c-知识的面试" class="hash-link" aria-label="使用-chatgpt-模拟一次针对-c-知识的面试的直接链接" title="使用-chatgpt-模拟一次针对-c-知识的面试的直接链接">​</a></h2><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/chatgpt-mock-interviews/cpp-interview-plan.png" class="img_ev3q"></p><blockquote><ul><li>ChatGPT 是 OpenAI 研发的聊天机器人程序</li></ul></blockquote><p>最近刚刚升级了 ChatGPT Plus ，想着能不能利用它来帮助我准备一下面试，先从编程语言开始搞起······</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="chatgpt-设计计划">ChatGPT 设计计划<a href="#chatgpt-设计计划" class="hash-link" aria-label="ChatGPT 设计计划的直接链接" title="ChatGPT 设计计划的直接链接">​</a></h3><div class="browserWindow_my1Q"><div class="browserWindowHeader_jXSR"><div class="buttons_uHc7"><span class="dot_giz1" style="background:#f25f58"></span><span class="dot_giz1" style="background:#fbbe3c"></span><span class="dot_giz1" style="background:#58cb42"></span></div><div class="browserWindowAddressBar_Pd8y">https://chat.openai.com/</div><div class="browserWindowMenuIcon_Vhuh"><div><span class="bar_rrRL"></span><span class="bar_rrRL"></span><span class="bar_rrRL"></span></div></div></div><div class="browserWindowBody_Idgs"><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Question:</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">帮助我设计一个关于</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">的面试准备计划</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">GPT4:</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">当然可以，以下是一份关于</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">的面试准备计划，希望对你有所帮助：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">语言基础</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> 对于任何编程语言，理解其基本结构和语法是至关重要的。你需要熟悉</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">的基本语法，例如变量，数据类型，控制结构（如</span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain">、</span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain">、</span><span class="token keyword control-flow" style="color:#00009f">while</span><span class="token plain">等），函数，数组和字符串。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">面向对象编程</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">是一种面向对象的语言，因此你需要熟悉类和对象的概念，以及继承，封装，多态等概念。理解如何创建和使用类以及如何在类之间建立关系非常重要。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3.</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">STL</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">Standard</span><span class="token plain"> </span><span class="token maybe-class-name">Template</span><span class="token plain"> </span><span class="token maybe-class-name">Library</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">STL</span><span class="token plain">是</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">的核心部分，提供了一组模板类来处理常见的数据结构和算法，如向量，列表，队列，栈，集合，映射，排序和搜索等。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">异常处理</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> 了解异常以及如何处理异常也很重要。你应该知道如何使用</span><span class="token keyword control-flow" style="color:#00009f">try</span><span class="token plain">，</span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token plain">和</span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain">关键字，以及如何定义自己的异常类。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">5.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">内存管理</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">为开发人员提供了对内存管理的直接控制，因此，理解如何使用</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain">和</span><span class="token keyword" style="color:#00009f">delete</span><span class="token plain">，以及理解指针和引用的工作原理是很重要的。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">6.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">数据结构与算法</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> 理解常见的数据结构（如链表，树，图，堆栈，队列等）及其在</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">中的实现。理解排序，搜索，递归，动态规划，贪心算法，图算法等基本算法，并能在</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">中实现它们。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">7.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">设计模式</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> 对于高级职位，理解常见的设计模式如单例，工厂，观察者，装饰者等并能够在</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">中实现它们是非常重要的。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">8.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">文件和流</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> 了解如何在</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">中处理文件和流，包括文本文件和二进制文件，以及输入</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">输出流。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">9.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">多线程和并发</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token number" style="color:#36acaa">11</span><span class="token plain">标准引入了对并发和多线程的支持。理解线程，锁，条件变量，以及其他并发概念如何在</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">中实现，对于许多软件开发职位来说是必需的。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">10.</span><span class="token plain"> 现代</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">特性</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">已经发展出了许多版本，每个版本都引入了新的特性。特别是</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token number" style="color:#36acaa">11</span><span class="token plain">，</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token number" style="color:#36acaa">14</span><span class="token plain">，</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token number" style="color:#36acaa">17</span><span class="token plain">和</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token number" style="color:#36acaa">20</span><span class="token plain">，你应该了解它们各自引入的新特性和改进。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">11.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">项目经验</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> 准备一到两个你用</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">完成的项目，可以展示你的编程技巧和解决问题的能力。这</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="chatgpt-模拟笔试题">ChatGPT 模拟笔试题<a href="#chatgpt-模拟笔试题" class="hash-link" aria-label="ChatGPT 模拟笔试题的直接链接" title="ChatGPT 模拟笔试题的直接链接">​</a></h3><p>接下来让他给出一些题目，模拟一下笔试</p><div class="browserWindow_my1Q"><div class="browserWindowHeader_jXSR"><div class="buttons_uHc7"><span class="dot_giz1" style="background:#f25f58"></span><span class="dot_giz1" style="background:#fbbe3c"></span><span class="dot_giz1" style="background:#58cb42"></span></div><div class="browserWindowAddressBar_Pd8y">https://chat.openai.com/</div><div class="browserWindowMenuIcon_Vhuh"><div><span class="bar_rrRL"></span><span class="bar_rrRL"></span><span class="bar_rrRL"></span></div></div></div><div class="browserWindowBody_Idgs"><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Question:</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">给我提出一些问题来模拟一下面试</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">GPT4:</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">当然，以下是一些常见的</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">面试问题，可以帮助你做好准备：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">语言基础</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 什么是</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">中的命名空间？</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 解释</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">中的自动、静态、寄存器和外部存储类别。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">面向对象编程</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 在</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">中，构造函数和析构函数是什么？</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 解释一下继承、封装和多态。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3.</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">STL</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 你能解释一下</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">中的向量（vector）吗？</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 如何使用</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">STL</span><span class="token plain">中的排序函数？</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">异常处理</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 在</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">中，如何处理异常？</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 什么是</span><span class="token constant" style="color:#36acaa">RAII</span><span class="token plain">（资源获取即初始化）原则？</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">5.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">内存管理</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 解释一下</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">中的</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain">和</span><span class="token keyword" style="color:#00009f">delete</span><span class="token plain">操作符。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 什么是内存泄漏以及如何防止内存泄漏？</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">6.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">数据结构与算法</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 如何在</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">中实现链表？</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 解释一下什么是二叉树以及如何进行二叉树遍历？</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">7.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">设计模式</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 你可以解释一下单例设计模式吗？</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 什么是工厂模式，它在什么情况下是有用的？</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">8.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">文件和流</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 如何在</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">中读写文件？</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 解释一下</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">中的istream和ostream。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">9.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">多线程和并发</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 如何在</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">中创建线程？</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 什么是死锁？如何避免死锁？</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">10.</span><span class="token plain"> 现代</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">特性</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 解释一下</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token number" style="color:#36acaa">11</span><span class="token plain">中的lambda表达式。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 什么是</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">中的智能指针？为什么要使用它们？</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">11.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">项目经验</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 描述一下你最近用</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">完成的一个项目。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 在这个项目中，你遇到了什么问题，你是如何解决的？</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">以上就是模拟面试的问题，你可以通过这些问题检查你的准备程度。对于项目经验的问题，你需要基于你自己的经历来回答。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><hr><p><strong>先来回答一下问题</strong></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-语言基础">1. 语言基础<a href="#1-语言基础" class="hash-link" aria-label="1. 语言基础的直接链接" title="1. 语言基础的直接链接">​</a></h4><ul><li>命名空间关键字是 <code>namespace</code> ，用来区分变量、函数、枚举等命名的作用域</li><li>自动变量的存储空间是动态分配的，大部分的变量都属于自动存储类型，例如局部变量，定义时分配存储空间，语句结束时销毁；<code>static</code> 关键字声明的为静态变量，语句结束时变量占用的存储空间不会释放，下一次调用该变量时保留上一次调用结束时的值；<code>register</code> 关键字声明寄存器变量，可以将变量的值存储到寄存器中，提高运算效率；<code>extern</code> 关键字声明外部变量，作用域为从变量的定义处至文件的末尾，有时可使用 <code>extern</code> 拓展全局变量的作用域至本文件</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-面对对象">2. 面对对象<a href="#2-面对对象" class="hash-link" aria-label="2. 面对对象的直接链接" title="2. 面对对象的直接链接">​</a></h4><ul><li>构造函数用来创建对象，并对类成员变量进行初始化；析构函数用来释放对象所占用的资源，在对象的生命周期结束时调用</li><li>封装是将实现细节和数据隐藏起来，对数据的访问只能通过定义的接口进行访问；继承是指子类可以具有父类现有的所有功能，对代码进行复用；多态是同一个行为有多个不同的表现形式或形态的能力，有覆盖和重载两种方式，覆盖是对原有行为进行重写，函数名，返回值，参数列表都必须与原行为一致，重载则是相同的名称，执行不同功能</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-stl">3. STL<a href="#3-stl" class="hash-link" aria-label="3. STL的直接链接" title="3. STL的直接链接">​</a></h4><ul><li>向量 vector 是 STL 库中的一种自定义数据类型，又被称为容器，可以看作一个能够存放任意类型的动态数组</li><li>STL 中的排序函数为 sort()，使用方式为指定开始和结束元素以及排序规则<ul><li>[STL 中的排序]</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="4-异常处理">4. 异常处理<a href="#4-异常处理" class="hash-link" aria-label="4. 异常处理的直接链接" title="4. 异常处理的直接链接">​</a></h4><ul><li>使用 <code>try</code> 保护代码块，使用 <code>throw</code> 抛出异常，最后使用 <code>catch</code> 捕获异常</li><li>RAII 是资源获取即初始化，资源的有效期与持有资源的对象的生命期严格绑定，即由对象的构造函数完成资源的分配（获取），同时由析构函数完成资源的释放</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="5-内存管理">5. 内存管理<a href="#5-内存管理" class="hash-link" aria-label="5. 内存管理的直接链接" title="5. 内存管理的直接链接">​</a></h4><ul><li><code>new</code> 用来实现动态内存分配，<code>delete</code> 用来释放动态分配的内存空间</li><li>内存泄漏指程序在申请内存后，无法释放已申请的空间；防止内存泄漏要确保不访问空指针，申请与释放操作要成对使用，分配内存后要初始化等</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="6-数据结构与算法">6. 数据结构与算法<a href="#6-数据结构与算法" class="hash-link" aria-label="6. 数据结构与算法的直接链接" title="6. 数据结构与算法的直接链接">​</a></h4><ul><li>C++ 实现链表</li></ul><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">ListNode</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> val</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 节点上存储的元素</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ListNode </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">next</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 指向下一个节点的指针</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">ListNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">val</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">next</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 节点的构造函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>二叉树是每个节点只有至多两个子节点的数据结构，二叉树的遍历方式有前序遍历、中序遍历、后序遍历、以及层次遍历</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="7-设计模式">7. 设计模式<a href="#7-设计模式" class="hash-link" aria-label="7. 设计模式的直接链接" title="7. 设计模式的直接链接">​</a></h4><ul><li>单例设计模式是一个类只能创建一个对象</li><li>工厂模式指在创建对象时不会对客户端暴露创建逻辑，而是通过一个共同的接口来指向新创建的对象；当需要对象的创建和使用分开时，以及减少代码重复率时使用</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="8-文件和流">8. 文件和流<a href="#8-文件和流" class="hash-link" aria-label="8. 文件和流的直接链接" title="8. 文件和流的直接链接">​</a></h4><ul><li>C++ 中使用 <code>ifstream</code> 读文件，用 <code>ofstream</code> 写文件，用 <code>fstream</code> 读写文件</li><li><code>ifstream</code> 创建了一个从外部输入流向程序的字符流，<code>ofstream</code> 创建一个从程序流向输出的字符流</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="9-多线程和并发">9. 多线程和并发<a href="#9-多线程和并发" class="hash-link" aria-label="9. 多线程和并发的直接链接" title="9. 多线程和并发的直接链接">​</a></h4><ul><li>C++ 中可以使用 <code>std::thread</code> 类创建线程</li><li>死锁指两个线程或多个线程互相持有对方所需要的资源，导致这些线程处于等待状态，无法继续执行；使用 <code>try_lock()</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="10-现代-c-特性">10. 现代 C++ 特性<a href="#10-现代-c-特性" class="hash-link" aria-label="10. 现代 C++ 特性的直接链接" title="10. 现代 C++ 特性的直接链接">​</a></h4><ul><li>lambda 表达式用于定义匿名函数，也有参数列表，返回值和函数体，并且可以在函数内部定义</li><li>智能指针主要用于管理在堆上分配的内存，它将普通的指针封装为一个栈对象。当栈对象的生存周期结束后，会在析构函数中释放掉申请的内存，从而防止内存泄漏；使用只能指针可以有效的防止内存泄漏</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="chatgpt-检查解答">ChatGPT 检查解答<a href="#chatgpt-检查解答" class="hash-link" aria-label="ChatGPT 检查解答的直接链接" title="ChatGPT 检查解答的直接链接">​</a></h3><div class="browserWindow_my1Q"><div class="browserWindowHeader_jXSR"><div class="buttons_uHc7"><span class="dot_giz1" style="background:#f25f58"></span><span class="dot_giz1" style="background:#fbbe3c"></span><span class="dot_giz1" style="background:#58cb42"></span></div><div class="browserWindowAddressBar_Pd8y">https://chat.openai.com/</div><div class="browserWindowMenuIcon_Vhuh"><div><span class="bar_rrRL"></span><span class="bar_rrRL"></span><span class="bar_rrRL"></span></div></div></div><div class="browserWindowBody_Idgs"><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Question:</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">······</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">请检查一下我的答案</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">GPT4:</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">你的回答非常全面和精确，展示了你对</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">语言和面向对象编程的深入理解。你对</span><span class="token constant" style="color:#36acaa">STL</span><span class="token plain">、内存管理、异常处理、数据结构和算法、设计模式、文件和流、多线程和并发以及现代</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">特性的理解也非常到位。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">这里有一些细节上的建议：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3.</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">STL</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 当描述</span><span class="token constant" style="color:#36acaa">STL</span><span class="token literal-property property" style="color:#36acaa">中的sort函数时，也许可以更具体一点，比如：std</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">:</span><span class="token function" style="color:#d73a49">sort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">begin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">，其中，begin和end是要排序序列的首尾迭代器。默认情况下，此函数按升序排序元素，但你也可以提供自定义的比较函数或者lambda表达式来按照你自己的规则排序。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">6.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">数据结构与算法</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 对于二叉树遍历的部分，你可以详细地解释一下前序、中序、后序和层次遍历的具体过程，或者给出一个简单的例子来说明。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">7.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">设计模式</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 当解释单例模式时，你可能可以更具体一点，比如给出一个简单的单例模式的实现。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">9.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">多线程和并发</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 死锁避免的方法也许可以详细一些。比如，你可以遵循一些编程实践来避免死锁，如避免循环等待，尽可能在同一时间请求所有资源，一次性释放所有资源等。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">总体来说，你的答案非常出色，并且对</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">的知识掌握得非常全面。如果你能够在面试中如你在这里所做的那样清楚、准确地回答问题，那么你应该能够在面试中表现得非常好。希望这些反馈对你有所帮助，祝你面试顺利！</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="chatgpt-给出标准答案">ChatGPT 给出标准答案<a href="#chatgpt-给出标准答案" class="hash-link" aria-label="ChatGPT 给出标准答案的直接链接" title="ChatGPT 给出标准答案的直接链接">​</a></h3><div class="browserWindow_my1Q"><div class="browserWindowHeader_jXSR"><div class="buttons_uHc7"><span class="dot_giz1" style="background:#f25f58"></span><span class="dot_giz1" style="background:#fbbe3c"></span><span class="dot_giz1" style="background:#58cb42"></span></div><div class="browserWindowAddressBar_Pd8y">https://chat.openai.com/</div><div class="browserWindowMenuIcon_Vhuh"><div><span class="bar_rrRL"></span><span class="bar_rrRL"></span><span class="bar_rrRL"></span></div></div></div><div class="browserWindowBody_Idgs"><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Question:</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">给出你准备的标准答案，给我用来做对比，巩固知识点</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">GPT4:</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">当然，以下是我准备的标准答案：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">语言基础</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 命名空间是</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">中解决标识符冲突的一个机制。通过namespace可以将全局类、函数或者变量等封装在一个特定的空间下，避免与其他的全局类、函数或变量产生命名冲突。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 自动存储类别的对象在进入其作用域时被创建，离开作用域时被销毁。静态存储类别的对象在程序的生命周期内一直存在。寄存器存储类别的对象被存放在寄存器中，其访问速度更快。外部存储类别的对象在文件作用域内都是可见的，可以被程序中的所有函数访问。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">面向对象编程</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 在</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">中，构造函数是一种特殊的函数，当创建类的对象时，构造函数将被自动调用。它主要用于初始化对象。析构函数也是一种特殊的函数，当对象不再使用时，析构函数将被自动调用。它主要用于释放对象所占用的资源。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 继承是子类继承父类的属性和方法的机制。封装是隐藏对象的内部细节，只暴露必要的接口。多态则是让一个接口代表多种形态的机制。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3.</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">STL</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token maybe-class-name">Vector是</span><span class="token constant" style="color:#36acaa">STL</span><span class="token plain">中的一种动态数组，可以根据需要增长和收缩。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">STL</span><span class="token function" style="color:#d73a49">中的排序函数为sort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">，用于对给定范围的元素进行排序。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">异常处理</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 在</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">中，异常是程序运行时发生的特殊情况，比如尝试除以零。异常提供了一种在程序中传播错误的方式。我们可以使用</span><span class="token keyword control-flow" style="color:#00009f">try</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain">来检测、抛出和捕获异常。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">RAII</span><span class="token plain">是</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">中的一种编程技巧，它把资源的获取放在构造函数中，资源的释放放在析构函数中。</span><span class="token constant" style="color:#36acaa">RAII</span><span class="token plain">的主要目标是确保在程序执行的任何路径上，一旦不再需要某资源，就会立即释放它。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">5.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">内存管理</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain">用于在堆上动态分配内存，</span><span class="token keyword" style="color:#00009f">delete</span><span class="token plain">用于释放由</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain">分配的内存。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 内存泄漏是程序在分配了一段内存后，无法释放它。我们可以通过合理的内存管理和使用智能指针来防止内存泄漏。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">6.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">数据结构与算法</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 链表是一种数据结构，其中每个元素都包含下一个元素的地址。在</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">中，我们可以使用struct或</span><span class="token keyword" style="color:#00009f">class</span><span class="token plain">来实现链表。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Question:</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">你给出的回答不完整</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">GPT4:</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">对不起，回答的确是不完整的。让我们继续：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">6.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">数据结构与算法（续）</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 二叉树是一种数据结构，其中每个节点有最多两个子节点：左子节点和右子节点。二叉树的遍历方式包括前序遍历（根，左，右）、中序遍历（左，根，右）、后序遍历（左，右，根）和层次遍历（按层遍历节点）。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">7.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">设计模式</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 单例模式确保了一个类只有一个实例，并提供了一个全局访问点。例如，如果你想在应用程序中的多个地方使用同一个配置对象，那么你可以使用单例模式来确保配置对象只被创建一次，并且在应用程序中的任何地方都可以访问。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 工厂模式是一种创建对象的模式，它提供了一个接口来创建对象，但让子类决定实例化哪个类。工厂模式将对象的实例化过程和对象的使用过程分离，使得代码更具有灵活性和复用性。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">8.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">文件和流</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> ifstream用于读取文件，ofstream用于写入文件，fstream可以同时读取和写入文件。这些都是</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">标准库中的类，用于处理文件的输入和输出。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 这些流类提供了丰富的方法和操作符，使得文件操作变得简单和高效。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">9.</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">多线程和并发</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">标准库提供了std</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">:</span><span class="token function" style="color:#d73a49">thread类，可以用来创建和管理线程。这个类提供了一些方法，如join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token function" style="color:#d73a49">、detach</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">，让你可以更好地控制线程的生命周期。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 死锁是一个很常见的并发问题，它发生在两个或更多的线程永久地互相等待对方释放资源。为了避免死锁，可以使用一些策略，如避免嵌套锁，按固定的顺序请求锁，使用锁的层次结构等。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">10.</span><span class="token plain"> 现代</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">特性</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token maybe-class-name">Lambda表达式是</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token number" style="color:#36acaa">11</span><span class="token plain">引入的一个新特性，它可以用来创建匿名函数。Lambda表达式的语法简洁明了，让代码变得更加紧凑和高效。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> 智能指针是</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">标准库中的一类模板类，它们用来自动管理内存。智能指针在构造时获得一个原始指针，在析构时删除这个原始指针。这样就可以防止因忘记释放内存而导致的内存泄漏。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">这些答案覆盖了关于</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">的一些基础知识，如语法、面向对象编程、</span><span class="token constant" style="color:#36acaa">STL</span><span class="token plain">、异常处理、内存管理等；也包括了一些更高级的主题，如数据结构和算法、设计模式、文件和流、多线程和并发，以及现代</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">特性等。总的来说，这些都是在</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">面试中可能会遇到的主题，并且对于掌握</span><span class="token constant" style="color:#36acaa">C</span><span class="token operator" style="color:#393A34">++</span><span class="token plain">这门语言来说非常重要。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="参考">参考<a href="#参考" class="hash-link" aria-label="参考的直接链接" title="参考的直接链接">​</a></h2><p>本期参考列表略长···</p><ul><li><a href="https://zhuanlan.zhihu.com/p/126481010" target="_blank" rel="noopener noreferrer">详解c++的命名空间namespace</a></li><li><a href="https://www.cnblogs.com/DoLittleDo/p/5805742.html" target="_blank" rel="noopener noreferrer">C++变量的存储类别（动态存储、静态存储、自动变量、寄存器变量、外部变量）</a></li><li><a href="https://zhuanlan.zhihu.com/p/163002290" target="_blank" rel="noopener noreferrer">C++面向对象开发的四大特性：封装、抽象、继承、多态</a></li><li><a href="https://www.runoob.com/w3cnote/cpp-vector-container-analysis.html" target="_blank" rel="noopener noreferrer">C++ vector 容器浅析</a></li><li><a href="https://zhuanlan.zhihu.com/p/600337719" target="_blank" rel="noopener noreferrer">现代C++学习—— 什么是RAII</a></li><li><a href="https://programmercarl.com/%E9%93%BE%E8%A1%A8%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html" target="_blank" rel="noopener noreferrer">关于链表，你该了解这些!</a></li><li><a href="https://programmercarl.com/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html" target="_blank" rel="noopener noreferrer">二叉树理论基础篇</a></li><li><a href="https://zhuanlan.zhihu.com/p/160835278" target="_blank" rel="noopener noreferrer">单例模式详细解析</a></li><li><a href="https://zhuanlan.zhihu.com/p/91062516" target="_blank" rel="noopener noreferrer">c++之多线程中“锁”的基本用法</a></li></ul>]]></content:encoded>
            <category>ChatGPT</category>
            <category>C++</category>
            <category>面试</category>
        </item>
        <item>
            <title><![CDATA[从零搭建自己的个人网站]]></title>
            <link>https://sinnammanyo.cn/blog/start</link>
            <guid>https://sinnammanyo.cn/blog/start</guid>
            <pubDate>Tue, 13 Dec 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[本文基于 Docusaurus 2]]></description>
            <content:encoded><![CDATA[<h3 class="anchor anchorWithStickyNavbar_LWe7" id="本文基于-docusaurus-2">本文基于 <span style="background-color:#25c2a0;border-radius:5px;color:#fff;padding:0.2rem">Docusaurus 2</span><a href="#本文基于-docusaurus-2" class="hash-link" aria-label="本文基于-docusaurus-2的直接链接" title="本文基于-docusaurus-2的直接链接">​</a></h3><ul><li><strong><a href="https://docusaurus.io/" target="_blank" rel="noopener noreferrer">Docusaurus</a></strong></li><li><strong><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer">facebook/docusaurus</a></strong></li></ul><p>详细踩坑，放心食用</p><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/start-docusaurus/cover.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="准备工作">准备工作<a href="#准备工作" class="hash-link" aria-label="准备工作的直接链接" title="准备工作的直接链接">​</a></h2><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_S0QG"><p>善用搜索引擎</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="配置-vscode--gitbash-windows">配置 VSCode &amp; GitBash (windows)<a href="#配置-vscode--gitbash-windows" class="hash-link" aria-label="配置 VSCode &amp; GitBash (windows)的直接链接" title="配置 VSCode &amp; GitBash (windows)的直接链接">​</a></h3><p>安装一个文档编辑器，这里推荐使用 <code>VSCode</code></p><ul><li><strong><a href="https://code.visualstudio.com/Download" target="_blank" rel="noopener noreferrer">https://code.visualstudio.com/Download</a></strong></li></ul><p>安装 git</p><ul><li><strong><a href="https://git-scm.com/downloads" target="_blank" rel="noopener noreferrer">https://git-scm.com/downloads</a></strong></li></ul><p>参考 <em><a href="https://blog.csdn.net/A_zhiyuan/article/details/116930325" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/A_zhiyuan/article/details/116930325</a></em> 中的方法将 <code>VSCode</code> 的集成终端设置为 <code>GitBash</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="安装-nodejs--yarn">安装 node.js &amp; yarn<a href="#安装-nodejs--yarn" class="hash-link" aria-label="安装 node.js &amp; yarn的直接链接" title="安装 node.js &amp; yarn的直接链接">​</a></h3><p><code>Docusaurus</code> 是基于 <code>node.js</code> 的，需要安装 <code>node.js</code></p><ul><li><strong><a href="https://nodejs.org/" target="_blank" rel="noopener noreferrer">https://nodejs.org/</a></strong></li></ul><p>使用包管理器 <code>yarn</code> 可以很方便的管理你个人网站，建议安装 <code>yarn</code></p><ul><li><strong><a href="https://yarn.bootcss.com/" target="_blank" rel="noopener noreferrer">https://yarn.bootcss.com/</a></strong></li></ul><p>完成这些之后，你就可以开始在本地部署 <code>Docusaurus</code> 的服务</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="安装-docusaurus">安装 <span style="background-color:#25c2a0;border-radius:5px;color:#fff;padding:0.2rem">Docusaurus</span><a href="#安装-docusaurus" class="hash-link" aria-label="安装-docusaurus的直接链接" title="安装-docusaurus的直接链接">​</a></h2><p>使用包管理器 <code>yarn</code> 可以初始化 <code>Docusaurus</code> 项目</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> create docusaurus</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/start-docusaurus/yarn-create-docusaurus.png" class="img_ev3q"></p><p>创建成功后会有这样的输出</p><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/start-docusaurus/Created-SUCCESS.png" class="img_ev3q"></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd sinnammanyo.cn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/start-docusaurus/yarn-start.png" class="img_ev3q"></p><p>执行后会在本地开启一个端口，使用浏览器访问 <code>http://localhost:3000/</code> 即可查看站点的渲染结果</p><div class="browserWindow_my1Q"><div class="browserWindowHeader_jXSR"><div class="buttons_uHc7"><span class="dot_giz1" style="background:#f25f58"></span><span class="dot_giz1" style="background:#fbbe3c"></span><span class="dot_giz1" style="background:#58cb42"></span></div><div class="browserWindowAddressBar_Pd8y">http://localhost:3000</div><div class="browserWindowMenuIcon_Vhuh"><div><span class="bar_rrRL"></span><span class="bar_rrRL"></span><span class="bar_rrRL"></span></div></div></div><div class="browserWindowBody_Idgs"><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/start-docusaurus/yarn-start-result.png" class="img_ev3q"></p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="配置-docusaurus">配置 <span style="background-color:#25c2a0;border-radius:5px;color:#fff;padding:0.2rem">Docusaurus</span><a href="#配置-docusaurus" class="hash-link" aria-label="配置-docusaurus的直接链接" title="配置-docusaurus的直接链接">​</a></h2><p>安装完成后新目录会有如下结构</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sinnammanyo.cn/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── blog/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── docs/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── src/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── css/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── pages/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── static/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── docusaurus.config.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── package.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── README.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── sidebars.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── yarn.lock</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="配置站点信息">配置站点信息<a href="#配置站点信息" class="hash-link" aria-label="配置站点信息的直接链接" title="配置站点信息的直接链接">​</a></h3><p><code>docusaurus.config.js</code> 中配置了站点元数据</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">docusaurus.config.js</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 基础配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">title</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'My Site'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">                             </span><span class="token comment" style="color:#999988;font-style:italic">// 站点名称</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">tagline</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Dinosaurs are cool'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">// 站点描述</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">url</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'https://your-docusaurus-test-site.com'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 站点 url</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">baseUrl</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'/'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">                                 </span><span class="token comment" style="color:#999988;font-style:italic">// 站点的url后缀</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">onBrokenLinks</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'throw'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">onBrokenMarkdownLinks</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'warn'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">favicon</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'img/favicon.ico'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// 站点的 logo 浏览器标签前面那个</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 部署时所需配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">organizationName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'facebook'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic">// Github 用户名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">projectName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'docusaurus'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// Github 仓库名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>以及主题、插件、预设等配置，可以参考 <code>Docusaurus</code> 的官方文档</p><ul><li><strong><a href="https://docusaurus.io/zh-CN/docs/configuration" target="_blank" rel="noopener noreferrer">https://docusaurus.io/zh-CN/docs/configuration</a></strong></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="文档--博客">文档 &amp; 博客<a href="#文档--博客" class="hash-link" aria-label="文档 &amp; 博客的直接链接" title="文档 &amp; 博客的直接链接">​</a></h3><p><code>Docusaurus</code> 分为文档模式和博客模式，最基本的功能是将本地的 <code>markdown</code> 文件渲染为 <code>html</code> 文件</p><ul><li><code>blogs/</code> 文件夹为博客 <code>markdown</code> 文件的存放位置</li><li><code>docs/</code> 文件夹为文档文件存放位置</li></ul><p>两者区别在于，文档模式有侧边栏支持，适合对文档进行层级分类整理，而博客更专注于单篇内容，有作者，阅读时长等元素，其余地方差别不大</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="页面">页面<a href="#页面" class="hash-link" aria-label="页面的直接链接" title="页面的直接链接">​</a></h3><p><code>src/pages/</code> 中的 <code>jsx/tsx/mdx</code> 文件都会被渲染成网站的页面</p><ul><li><code>src/pages/index.js</code> 就是网站的初始页面，通过编辑 <code>index.js</code> 可以对 Home 页面进行个性化的设置</li></ul><p>如果你喜欢我的主页，可以到 <a href="https://sinnammanyo.cn/docs/site/about-theme" target="_blank" rel="noopener noreferrer"><strong>这篇文章</strong></a> 看我的详细配置过程</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="部署-docusaurus">部署 <span style="background-color:#25c2a0;border-radius:5px;color:#fff;padding:0.2rem">Docusaurus</span><a href="#部署-docusaurus" class="hash-link" aria-label="部署-docusaurus的直接链接" title="部署-docusaurus的直接链接">​</a></h2><p>当你的站点在本地调试完成之后，你可以选择将站点部署到云端，就可以通过网络在线访问</p><p><code>Docusaurus</code> 支持的部署方式很多，可以参考</p><ul><li><em><a href="https://docusaurus.io/zh-CN/docs/deployment" target="_blank" rel="noopener noreferrer">https://docusaurus.io/zh-CN/docs/deployment</a></em></li></ul><p>这里我选择将站点部署到 <code>GitHub Pages</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="部署到-github-pages">部署到 GitHub Pages<a href="#部署到-github-pages" class="hash-link" aria-label="部署到 GitHub Pages的直接链接" title="部署到 GitHub Pages的直接链接">​</a></h3><p><strong><a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer"><code>GitHub Pages</code></a></strong> 对所有的仓库都免费</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_S0QG"><p>如果你没有 <code>GitHub</code> 账号，就需要注册一个，然后简单了解一下 <code>GitHub</code> ，例如仓库，分支等等知识</p><ul><li><em><a href="https://github.com/" target="_blank" rel="noopener noreferrer">GitHub</a></em></li><li><em><a href="https://www.githubs.cn/post/git-tutorial" target="_blank" rel="noopener noreferrer">Git及GitHub教程</a></em></li></ul></div></div><p>对于每个 GitHub 用户来说，叫做 <code>{username}.github.io</code> 名称的仓库是特殊的，这个仓库的 <code>GitHub Pages</code> 的 url 为 <strong><code>https://{username}.github.io/</code></strong></p><p>这里的方案将使用两个 Github 仓库来执行部署，分别为存放 <code>Docusaurus</code> 项目配置、文档等文件的 <strong>源码仓库</strong> 以及存放渲染后的所有页面文件的 <strong>部署仓库</strong></p><p>以我的站点为例，分别为</p><ul><li>源码仓库 <strong><a href="https://github.com/rcxxx/sinnammanyo.cn" target="_blank" rel="noopener noreferrer"><code>rcxxx/sinnammanyo.cn</code></a></strong></li><li>部署仓库 <strong><a href="https://github.com/rcxxx/rcxxx.github.io" target="_blank" rel="noopener noreferrer"><code>rcxxx/rcxxx.github.io</code></a></strong></li></ul><p>你可以先创建同样的两个仓库，并根据你的站点以及用户名来进行明明，例如 <code>{username}/my-website</code>、<code>{username}/{username}.github.io</code>，<code>{username}</code> 为你自己的用户名</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="修改-docusaurusconfigjs">修改 <code>docusaurus.config.js</code><a href="#修改-docusaurusconfigjs" class="hash-link" aria-label="修改-docusaurusconfigjs的直接链接" title="修改-docusaurusconfigjs的直接链接">​</a></h4><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">docusaurus.config.js -- eg.</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">url</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'https://sinnammanyo.cn'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 你的网站 URL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">baseUrl</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'/'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">                     </span><span class="token comment" style="color:#999988;font-style:italic">// 解析后的地址 如果设置为 /website/ </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    </span><span class="token comment" style="color:#999988;font-style:italic">// 则 url 将解析为 https://sinnammanyo.cn/website/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">projectName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'rcxxx.github.io'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// username.github.io</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">organizationName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'rcxxx'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// username</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">trailingSlash</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">deploymentBranch</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'master'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// 部署的默认分支  如果部署到同一个仓库下则可不指定 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    </span><span class="token comment" style="color:#999988;font-style:italic">// 默认为 'gh-pages'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="deploy">deploy<a href="#deploy" class="hash-link" aria-label="deploy的直接链接" title="deploy的直接链接">​</a></h4><p>编译静态文件</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yarn build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>部署到远程仓库</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">GIT_USER</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">GITHUB_USERNAME</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> deploy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># GIT_USER=rcxxx yarn deploy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果一切正常，你就可以在 <code>https://{username}.github.io/</code> 看到你部署完成的站点了</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="进阶部署">进阶部署<a href="#进阶部署" class="hash-link" aria-label="进阶部署的直接链接" title="进阶部署的直接链接">​</a></h3><p>利用 <code>GitHub Action</code> 可以实现自动化更新部署</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ssh-key">SSH KEY<a href="#ssh-key" class="hash-link" aria-label="SSH KEY的直接链接" title="SSH KEY的直接链接">​</a></h4><p>由于是跨仓库部署，需要使用 <code>SSH</code> 密钥来通过权限检查</p><ul><li>生成 <code>ssh key</code></li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh-keygen -t rsa -C </span><span class="token string" style="color:#e3116c">"your_email@example.com"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>执行后一路默认，将在用户根目录生成 <code>ssh key</code>，linux 将会生成在 <code>~/.ssh/</code>， windows 将生成在 <code>/c/Users/username/.ssh/</code></p><ul><li><code>id_rsa.pub</code> 为公钥</li></ul><p>需要添加到源仓库中，<code>Setting -&gt; Deploy keys -&gt; Add Deploy key</code>
<img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/start-docusaurus/add-id_rsa-pub.png" class="img_ev3q"></p><ul><li><code>id_rsa</code> 为私钥</li></ul><p>需要添加到部署仓库 <code>github.io</code> 中，<code>Setting -&gt; Secrets -&gt; Actions -&gt; New repository secret</code></p><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/start-docusaurus/add-id_rsa.png" class="img_ev3q"></p><p>注意这里 secret 的 Name 需要记住，可以直接取名为 <code>GH_PAGES_DEPLOY</code>，后续的自动化工作流中将会用到这个 Name</p><ul><li>在你的源仓库中创建 <code>.github/workflows/deploy.yml</code> 工作流文件</li></ul><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">.github/workflows/deploy.yml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deploy to GitHub Pages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">pull_request</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">branches</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">main</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">push</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">branches</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">main</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">jobs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">test-deploy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">if</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> github.event_name </span><span class="token tag" style="color:#00009f">!=</span><span class="token plain"> 'push'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">runs-on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/checkout@v3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/setup</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">node@v3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">node-version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">cache</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> yarn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Install dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> yarn install </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">frozen</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">lockfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Test build website</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> yarn build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">deploy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">if</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> github.event_name </span><span class="token tag" style="color:#00009f">!=</span><span class="token plain"> 'pull_request'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">runs-on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/checkout@v3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/setup</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">node@v3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">node-version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">cache</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> yarn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> webfactory/ssh</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">agent@v0.5.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ssh-private-key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> secrets.GH_PAGES_DEPLOY </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deploy to GitHub Pages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">USE_SSH</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          git config --global user.email "actions@github.com"   # 修改为你的邮箱地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          git config --global user.name "gh-actions"            # 修改为你的用户名</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          yarn install --frozen-lockfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          yarn deploy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>一切就绪之后，当你向源仓库中推送文档的变更时，<code>GitHub Action</code> 将自动识别工作流，并执行站点的部署</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="自定义域名">自定义域名<a href="#自定义域名" class="hash-link" aria-label="自定义域名的直接链接" title="自定义域名的直接链接">​</a></h3><p>前面的操作之后，你将得到的站点为 <code>https://username.github.io/</code></p><p>如果想要个性化的自定义域名，则需要到服务商购买一个，然后添加域名解析</p><ul><li>新建 <code>static/CNAME</code> 文件，在其中填入你自己的域名，并且在将部署仓库的页面映射到自己的域名</li></ul><p><img loading="lazy" src="https://pictures-1304295136.cos.ap-guangzhou.myqcloud.com/blog/start-docusaurus/custom-domain.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="搭建完成"><span style="background-color:#FF7F00;border-radius:5px;color:#fff;padding:0.2rem">✨搭建完成✨</span><a href="#搭建完成" class="hash-link" aria-label="搭建完成的直接链接" title="搭建完成的直接链接">​</a></h2><p>至此你的个人网站以已经全部搭建完毕，开始愉快的内容创作~~~</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="参考链接">参考链接<a href="#参考链接" class="hash-link" aria-label="参考链接的直接链接" title="参考链接的直接链接">​</a></h2><ul><li><strong><a href="https://docusaurus.io/zh-CN/docs" target="_blank" rel="noopener noreferrer"><code>Docusaurus</code> 中文文档</a></strong></li></ul>]]></content:encoded>
            <category>Docusaurus</category>
            <category>搭建</category>
        </item>
    </channel>
</rss>